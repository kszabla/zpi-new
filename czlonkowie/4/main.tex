\osoba{Robert Dudzik}
\zadanieprojektowe{Nauka programowania w Androidzie.}{2015-10-08}{2015-11-17}{zakończone}

Fragmenty kodu GPS.
\begin{lstlisting}
import android.location.Criteria;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.app.Activity;
import android.util.Log;
import android.view.Menu;
import android.widget.TextView;

public class MainActivity extends Activity implements LocationListener {

	TextView t1;
	TextView t2;
	TextView t3;
	TextView t4;
	
	LocationManager lm;
	Criteria kr;
	Location loc;
	String najlepszyDostawca;
	
	private void odswiez(){
		najlepszyDostawca=lm.getBestProvider(kr, true);	
		loc=lm.getLastKnownLocation(najlepszyDostawca);		
	}
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		t1=(TextView) findViewById(R.id.textView1);
		t2=(TextView) findViewById(R.id.textView2);
		t3=(TextView) findViewById(R.id.textView3);
		t4=(TextView) findViewById(R.id.textView4);
		
		kr=new Criteria();
		lm=(LocationManager) getSystemService(LOCATION_SERVICE);
		odswiez();				
		lm.requestLocationUpdates(najlepszyDostawca, 1000, 1, this);
		t1.setText("najlepszy dostawca: "+najlepszyDostawca);
		t2.setText("długość geograficzna: "+loc.getLongitude());
		t3.setText("szerokość geograficzna: "+loc.getLatitude());
		t4.setText("-------historia------\n");
	}

	@Override
	public void onLocationChanged(Location location) {
		odswiez();
		t1.setText("najlepszy dostawca: "+najlepszyDostawca);
		t2.setText("długość geograficzna: "+loc.getLongitude());
		t3.setText("szerokość geograficzna: "+loc.getLatitude());
		t4.setText(t4.getText()+""+loc.getLongitude()+"/"+loc.getLatitude()+"\n");
		
	}

	@Override
	public void onProviderDisabled(String provider) {
		// TODO Auto-generated method stub		
	}

	@Override
	public void onProviderEnabled(String provider) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void onStatusChanged(String provider, int status, Bundle extras) {
		// TODO Auto-generated method stub
		
	}
}
\end{lstlisting}

\begin{lstlisting}
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" 
android:versionName="@string/version_number" package=
"com.crobot.waypoint" android:versionCode="2">
    <application android:label="@string/app_name" android:icon="@drawable/
    wp_header">
    	<uses-library android:name="com.google.android.maps" />
        <activity android:name=".HomeActivity" android:screenOrientation=
        "portrait"  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
            <intent-filter android:label="@string/resolve_open">
            	<action android:name="android.intent.action.VIEW" />
            	<action android:name="android.intent.action.EDIT" />
            	<category android:name="android.intent.category.DEFAULT" />         
                <data android:scheme="content" android:mimeType="vnd.
                android.cursor.item/vnd.crobot.waypoint" />
                <data android:scheme="content" android:mimeType=
                "application/vnd.crobot.waypoint" />
                <data android:scheme="file" android:mimeType=
                "vnd.android.cursor.item/vnd.crobot.waypoint" />
                <data android:scheme="file" android:mimeType=
                "application/vnd.crobot.waypoint" />
				<data android:pathPattern=".*\\.waypoint" /
				>
            </intent-filter>
        </activity>
        <activity android:screenOrientation="portrait" 
        android:name=".TrackingActivity">
        	
        </activity>
        <service android:enabled="true" android:name="
        com.crobot.waypoint.tracking.WayPointSvc"/>
	</application>
    <uses-sdk android:minSdkVersion="4" android:targetSdkVersion="4"/>
    <uses-permission android:name="android.permission.INTERNET" />
	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
	<uses-permission android:name=
	"android.permission.WRITE_EXTERNAL_STORAGE" />
</manifest> 
\end{lstlisting}